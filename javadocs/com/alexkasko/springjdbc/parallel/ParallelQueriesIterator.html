<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0-unofficial) on Tue Jan 29 15:26:51 MSK 2013 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
ParallelQueriesIterator (SQL Queries Parallel Processing Using JdbcTemplate 1.2.2 API)
</TITLE>

<META NAME="date" CONTENT="2013-01-29">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ParallelQueriesIterator (SQL Queries Parallel Processing Using JdbcTemplate 1.2.2 API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ParallelQueriesIterator.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesExceptionHandler.html" title="interface in com.alexkasko.springjdbc.parallel"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesListener.html" title="interface in com.alexkasko.springjdbc.parallel"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ParallelQueriesIterator.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.alexkasko.springjdbc.parallel</FONT>
<BR>
Class ParallelQueriesIterator&lt;T&gt;</H2>
<PRE>
<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by ">com.google.common.collect.UnmodifiableIterator&lt;T&gt;
      <IMG SRC="../../../../resources/inherit.gif" ALT="extended by ">com.google.common.collect.AbstractIterator&lt;T&gt;
          <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>com.alexkasko.springjdbc.parallel.ParallelQueriesIterator&lt;T&gt;</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</A>&lt;T&gt;</DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <A HREF="../../../../src-html/com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html#line.48"><B>ParallelQueriesIterator&lt;T&gt;</B></A><DT>extends com.google.common.collect.AbstractIterator&lt;T&gt;</DL>
</PRE>

<P>
Executes single SQL query to multiple data sources in parallel using provided executor.
 Provides data to client as iterator, <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/concurrent/ArrayBlockingQueue.html?is-external=true" title="class or interface in java.util.concurrent"><CODE>ArrayBlockingQueue</CODE></A> is used for temporary buffering.
 Iteration will block awaiting data loaded from sources.
 Typical usage is to get new instance somewhere (spring prototype bean etc.), provide query params
 with <code>start</code> method and iterate over until end.
 Data source exceptions will be propagated propagated to caller (iterating) thread and given to <A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesExceptionHandler.html" title="interface in com.alexkasko.springjdbc.parallel"><CODE>ParallelQueriesExceptionHandler</CODE></A>.
 All parallel queries will be cancelled on one query error, propagated by exception handler.
 Iterator takes sql in the same format as <code>NamedParameterJdbcTemplate</code> does (with <code>:palceholders</code>)
 and map declared parameters to provided values using the same methods as <code>NamedParameterJdbcTemplate</code>.
 <b>NOT</b> thread-safe (tbd: specify points that break thread safety), instance may be reused calling <code>start</code> method, but only in one thread simultaneously.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>alexkasko
 Date: 6/8/12</DD>
<DT><B>See Also:</B><DD><A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesListener.html" title="interface in com.alexkasko.springjdbc.parallel"><CODE>ParallelQueriesListener</CODE></A>, 
<A HREF="../../../../com/alexkasko/springjdbc/parallel/accessor/DataSourceAccessor.html" title="interface in com.alexkasko.springjdbc.parallel.accessor"><CODE>DataSourceAccessor</CODE></A></DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html#ParallelQueriesIterator(java.util.Collection, java.lang.String, org.springframework.jdbc.core.RowMapper)">ParallelQueriesIterator</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql">DataSource</A>&gt;&nbsp;sources,
                                               <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;sql,
                                               org.springframework.jdbc.core.RowMapper&lt;<A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html" title="type parameter in ParallelQueriesIterator">T</A>&gt;&nbsp;mapper)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Shortcut constructor, uses <A HREF="../../../../com/alexkasko/springjdbc/parallel/accessor/RoundRobinAccessor.html" title="class in com.alexkasko.springjdbc.parallel.accessor"><CODE>RoundRobinAccessor</CODE></A>, new cached thread pool,
 and <code>JdbcTemplate</code>s with default settings</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html#ParallelQueriesIterator(com.alexkasko.springjdbc.parallel.accessor.DataSourceAccessor, java.lang.String, java.util.concurrent.ExecutorService, org.springframework.jdbc.core.RowMapper, int, int)">ParallelQueriesIterator</A></B>(<A HREF="../../../../com/alexkasko/springjdbc/parallel/accessor/DataSourceAccessor.html" title="interface in com.alexkasko.springjdbc.parallel.accessor">DataSourceAccessor</A>&lt;?,?&gt;&nbsp;sources,
                                               <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;sql,
                                               <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html?is-external=true" title="class or interface in java.util.concurrent">ExecutorService</A>&nbsp;executor,
                                               org.springframework.jdbc.core.RowMapper&lt;<A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html" title="type parameter in ParallelQueriesIterator">T</A>&gt;&nbsp;mapper,
                                               int&nbsp;bufferSize,
                                               int&nbsp;maxDataPollWaitSeconds)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Shortcut constructor, uses <code>RowMapper</code> instead of mapper factory and <code>ThrowExceptionHandler</code>
 as exception handler</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html#ParallelQueriesIterator(com.alexkasko.springjdbc.parallel.accessor.DataSourceAccessor, java.lang.String, java.util.concurrent.ExecutorService, org.springframework.jdbc.core.RowMapper, com.alexkasko.springjdbc.parallel.ParallelQueriesExceptionHandler, int, int)">ParallelQueriesIterator</A></B>(<A HREF="../../../../com/alexkasko/springjdbc/parallel/accessor/DataSourceAccessor.html" title="interface in com.alexkasko.springjdbc.parallel.accessor">DataSourceAccessor</A>&lt;?,?&gt;&nbsp;sources,
                                               <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;sql,
                                               <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html?is-external=true" title="class or interface in java.util.concurrent">ExecutorService</A>&nbsp;executor,
                                               org.springframework.jdbc.core.RowMapper&lt;<A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html" title="type parameter in ParallelQueriesIterator">T</A>&gt;&nbsp;mapper,
                                               <A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesExceptionHandler.html" title="interface in com.alexkasko.springjdbc.parallel">ParallelQueriesExceptionHandler</A>&nbsp;exceptionHandler,
                                               int&nbsp;bufferSize,
                                               int&nbsp;maxDataPollWaitSeconds)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html#ParallelQueriesIterator(com.alexkasko.springjdbc.parallel.accessor.DataSourceAccessor, java.lang.String, java.util.concurrent.ExecutorService, com.alexkasko.springjdbc.parallel.RowMapperFactory, com.alexkasko.springjdbc.parallel.ParallelQueriesExceptionHandler, int, int)">ParallelQueriesIterator</A></B>(<A HREF="../../../../com/alexkasko/springjdbc/parallel/accessor/DataSourceAccessor.html" title="interface in com.alexkasko.springjdbc.parallel.accessor">DataSourceAccessor</A>&lt;?,?&gt;&nbsp;sources,
                                               <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;sql,
                                               <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html?is-external=true" title="class or interface in java.util.concurrent">ExecutorService</A>&nbsp;executor,
                                               <A HREF="../../../../com/alexkasko/springjdbc/parallel/RowMapperFactory.html" title="interface in com.alexkasko.springjdbc.parallel">RowMapperFactory</A>&lt;<A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html" title="type parameter in ParallelQueriesIterator">T</A>,?&gt;&nbsp;mapperFactory,
                                               <A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesExceptionHandler.html" title="interface in com.alexkasko.springjdbc.parallel">ParallelQueriesExceptionHandler</A>&nbsp;exceptionHandler,
                                               int&nbsp;bufferSize,
                                               int&nbsp;maxDataPollWaitSeconds)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Most detailed constructor</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html" title="class in com.alexkasko.springjdbc.parallel">ParallelQueriesIterator</A>&lt;<A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html" title="type parameter in ParallelQueriesIterator">T</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html#addListener(com.alexkasko.springjdbc.parallel.ParallelQueriesListener)">addListener</A></B>(<A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesListener.html" title="interface in com.alexkasko.springjdbc.parallel">ParallelQueriesListener</A>&nbsp;listener)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Register listener for "query success" and "query error" events</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html#cancel()">cancel</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cancels queries processing in all sources, by setting cancelled state, then cancelling all active
 prepared statements (for workers blocked on query completion) and then interrupting
 all threads (for workers blocked on result queue).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html" title="type parameter in ParallelQueriesIterator">T</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html#computeNext()">computeNext</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html" title="class in com.alexkasko.springjdbc.parallel">ParallelQueriesIterator</A>&lt;<A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html" title="type parameter in ParallelQueriesIterator">T</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html#start(java.util.Collection)">start</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</A>&lt;? extends org.springframework.jdbc.core.namedparam.SqlParameterSource&gt;&nbsp;params)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Starts parallel query execution in data sources.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html#toString()">toString</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_com.google.common.collect.AbstractIterator"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class com.google.common.collect.AbstractIterator</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>endOfData, hasNext, next, peek</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_com.google.common.collect.UnmodifiableIterator"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class com.google.common.collect.UnmodifiableIterator</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>remove</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ParallelQueriesIterator(java.util.Collection, java.lang.String, org.springframework.jdbc.core.RowMapper)"><!-- --></A><H3>
ParallelQueriesIterator</H3>
<PRE>
public <A HREF="../../../../src-html/com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html#line.80"><B>ParallelQueriesIterator</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql">DataSource</A>&gt;&nbsp;sources,
                               <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;sql,
                               org.springframework.jdbc.core.RowMapper&lt;<A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html" title="type parameter in ParallelQueriesIterator">T</A>&gt;&nbsp;mapper)</PRE>
<DL>
<DD>Shortcut constructor, uses <A HREF="../../../../com/alexkasko/springjdbc/parallel/accessor/RoundRobinAccessor.html" title="class in com.alexkasko.springjdbc.parallel.accessor"><CODE>RoundRobinAccessor</CODE></A>, new cached thread pool,
 and <code>JdbcTemplate</code>s with default settings
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>sources</CODE> - list of data sources, will be used in round-robin mode<DD><CODE>sql</CODE> - query to execute using JdbcTemplate<DD><CODE>mapper</CODE> - will be used to get data from result sets</DL>
</DL>
<HR>

<A NAME="ParallelQueriesIterator(com.alexkasko.springjdbc.parallel.accessor.DataSourceAccessor, java.lang.String, java.util.concurrent.ExecutorService, org.springframework.jdbc.core.RowMapper, int, int)"><!-- --></A><H3>
ParallelQueriesIterator</H3>
<PRE>
public <A HREF="../../../../src-html/com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html#line.96"><B>ParallelQueriesIterator</B></A>(<A HREF="../../../../com/alexkasko/springjdbc/parallel/accessor/DataSourceAccessor.html" title="interface in com.alexkasko.springjdbc.parallel.accessor">DataSourceAccessor</A>&lt;?,?&gt;&nbsp;sources,
                               <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;sql,
                               <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html?is-external=true" title="class or interface in java.util.concurrent">ExecutorService</A>&nbsp;executor,
                               org.springframework.jdbc.core.RowMapper&lt;<A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html" title="type parameter in ParallelQueriesIterator">T</A>&gt;&nbsp;mapper,
                               int&nbsp;bufferSize,
                               int&nbsp;maxDataPollWaitSeconds)</PRE>
<DL>
<DD>Shortcut constructor, uses <code>RowMapper</code> instead of mapper factory and <code>ThrowExceptionHandler</code>
 as exception handler
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>sources</CODE> - data sources (wrapped into JDBC templates) accessor<DD><CODE>sql</CODE> - query to execute using JdbcOperations<DD><CODE>executor</CODE> - executor service to run parallel queries into<DD><CODE>mapper</CODE> - will be used to get data from result sets<DD><CODE>bufferSize</CODE> - size of <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/concurrent/ArrayBlockingQueue.html?is-external=true" title="class or interface in java.util.concurrent"><CODE>ArrayBlockingQueue</CODE></A> data buffer<DD><CODE>maxDataPollWaitSeconds</CODE> - max time to wait for next piece of data from workers</DL>
</DL>
<HR>

<A NAME="ParallelQueriesIterator(com.alexkasko.springjdbc.parallel.accessor.DataSourceAccessor, java.lang.String, java.util.concurrent.ExecutorService, org.springframework.jdbc.core.RowMapper, com.alexkasko.springjdbc.parallel.ParallelQueriesExceptionHandler, int, int)"><!-- --></A><H3>
ParallelQueriesIterator</H3>
<PRE>
public <A HREF="../../../../src-html/com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html#line.113"><B>ParallelQueriesIterator</B></A>(<A HREF="../../../../com/alexkasko/springjdbc/parallel/accessor/DataSourceAccessor.html" title="interface in com.alexkasko.springjdbc.parallel.accessor">DataSourceAccessor</A>&lt;?,?&gt;&nbsp;sources,
                               <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;sql,
                               <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html?is-external=true" title="class or interface in java.util.concurrent">ExecutorService</A>&nbsp;executor,
                               org.springframework.jdbc.core.RowMapper&lt;<A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html" title="type parameter in ParallelQueriesIterator">T</A>&gt;&nbsp;mapper,
                               <A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesExceptionHandler.html" title="interface in com.alexkasko.springjdbc.parallel">ParallelQueriesExceptionHandler</A>&nbsp;exceptionHandler,
                               int&nbsp;bufferSize,
                               int&nbsp;maxDataPollWaitSeconds)</PRE>
<DL>
<DL>
<DT><B>Parameters:</B><DD><CODE>sources</CODE> - data sources (wrapped into JDBC templates) accessor<DD><CODE>sql</CODE> - query to execute using JdbcOperations<DD><CODE>executor</CODE> - executor service to run parallel queries into<DD><CODE>mapper</CODE> - will be used to get data from result sets<DD><CODE>exceptionHandler</CODE> - workers exception handler<DD><CODE>bufferSize</CODE> - size of <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/concurrent/ArrayBlockingQueue.html?is-external=true" title="class or interface in java.util.concurrent"><CODE>ArrayBlockingQueue</CODE></A> data buffer<DD><CODE>maxDataPollWaitSeconds</CODE> - max time to wait for next piece of data from workers</DL>
</DL>
<HR>

<A NAME="ParallelQueriesIterator(com.alexkasko.springjdbc.parallel.accessor.DataSourceAccessor, java.lang.String, java.util.concurrent.ExecutorService, com.alexkasko.springjdbc.parallel.RowMapperFactory, com.alexkasko.springjdbc.parallel.ParallelQueriesExceptionHandler, int, int)"><!-- --></A><H3>
ParallelQueriesIterator</H3>
<PRE>
public <A HREF="../../../../src-html/com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html#line.130"><B>ParallelQueriesIterator</B></A>(<A HREF="../../../../com/alexkasko/springjdbc/parallel/accessor/DataSourceAccessor.html" title="interface in com.alexkasko.springjdbc.parallel.accessor">DataSourceAccessor</A>&lt;?,?&gt;&nbsp;sources,
                               <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;sql,
                               <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html?is-external=true" title="class or interface in java.util.concurrent">ExecutorService</A>&nbsp;executor,
                               <A HREF="../../../../com/alexkasko/springjdbc/parallel/RowMapperFactory.html" title="interface in com.alexkasko.springjdbc.parallel">RowMapperFactory</A>&lt;<A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html" title="type parameter in ParallelQueriesIterator">T</A>,?&gt;&nbsp;mapperFactory,
                               <A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesExceptionHandler.html" title="interface in com.alexkasko.springjdbc.parallel">ParallelQueriesExceptionHandler</A>&nbsp;exceptionHandler,
                               int&nbsp;bufferSize,
                               int&nbsp;maxDataPollWaitSeconds)</PRE>
<DL>
<DD>Most detailed constructor
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>sources</CODE> - data sources (wrapped into JDBC templates) accessor<DD><CODE>sql</CODE> - query to execute using JdbcOperations<DD><CODE>mapperFactory</CODE> - will be used to get data from result sets<DD><CODE>exceptionHandler</CODE> - workers exception handler<DD><CODE>executor</CODE> - executor service to run parallel queries into<DD><CODE>bufferSize</CODE> - size of <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/concurrent/ArrayBlockingQueue.html?is-external=true" title="class or interface in java.util.concurrent"><CODE>ArrayBlockingQueue</CODE></A> data buffer<DD><CODE>maxDataPollWaitSeconds</CODE> - max time to wait for next piece of data from workers</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="start(java.util.Collection)"><!-- --></A><H3>
start</H3>
<PRE>
public <A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html" title="class in com.alexkasko.springjdbc.parallel">ParallelQueriesIterator</A>&lt;<A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html" title="type parameter in ParallelQueriesIterator">T</A>&gt; <A HREF="../../../../src-html/com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html#line.157"><B>start</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</A>&lt;? extends org.springframework.jdbc.core.namedparam.SqlParameterSource&gt;&nbsp;params)</PRE>
<DL>
<DD>Starts parallel query execution in data sources. May be called multiple times to reuse iterator instance,
 Must be called only on exhausted iterators (which have all worker threads finished).
 May not be called on cancelled iterators.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>params</CODE> - query params
<DT><B>Returns:</B><DD>iterator itself</DL>
</DD>
</DL>
<HR>

<A NAME="cancel()"><!-- --></A><H3>
cancel</H3>
<PRE>
public int <A HREF="../../../../src-html/com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html#line.176"><B>cancel</B></A>()</PRE>
<DL>
<DD>Cancels queries processing in all sources, by setting cancelled state, then cancelling all active
 prepared statements (for workers blocked on query completion) and then interrupting
 all threads (for workers blocked on result queue).
 May be called from another thread. Subsequent calls do nothing.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>count of threads that were actually interrupted in processing</DL>
</DD>
</DL>
<HR>

<A NAME="addListener(com.alexkasko.springjdbc.parallel.ParallelQueriesListener)"><!-- --></A><H3>
addListener</H3>
<PRE>
public <A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html" title="class in com.alexkasko.springjdbc.parallel">ParallelQueriesIterator</A>&lt;<A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html" title="type parameter in ParallelQueriesIterator">T</A>&gt; <A HREF="../../../../src-html/com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html#line.200"><B>addListener</B></A>(<A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesListener.html" title="interface in com.alexkasko.springjdbc.parallel">ParallelQueriesListener</A>&nbsp;listener)</PRE>
<DL>
<DD>Register listener for "query success" and "query error" events
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>listener</CODE> - data source query events will be reported to this listener
<DT><B>Returns:</B><DD>iterator itself</DL>
</DD>
</DL>
<HR>

<A NAME="toString()"><!-- --></A><H3>
toString</H3>
<PRE>
public <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html#line.209"><B>toString</B></A>()</PRE>
<DL>
<DD>
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A></CODE> in class <CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="computeNext()"><!-- --></A><H3>
computeNext</H3>
<PRE>
protected <A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html" title="type parameter in ParallelQueriesIterator">T</A> <A HREF="../../../../src-html/com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html#line.232"><B>computeNext</B></A>()</PRE>
<DL>
<DD>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>computeNext</CODE> in class <CODE>com.google.common.collect.AbstractIterator&lt;<A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html" title="type parameter in ParallelQueriesIterator">T</A>&gt;</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ParallelQueriesIterator.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesExceptionHandler.html" title="interface in com.alexkasko.springjdbc.parallel"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/alexkasko/springjdbc/parallel/ParallelQueriesListener.html" title="interface in com.alexkasko.springjdbc.parallel"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/alexkasko/springjdbc/parallel/ParallelQueriesIterator.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ParallelQueriesIterator.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2013. All Rights Reserved.
</BODY>
</HTML>
